{"version":3,"sources":["components/commons/utility.js","components/commons/index.js","pkg/api/firebase.js","components/auth/login.js","pkg/reducers/index.js","components/auth/currentUser.js","components/commons/list.js","components/pages/plans.js","components/pages/users.js","components/pages/index.js","components/pages/transactions.js","components/commons/layout.js","pkg/router/index.js","App.js","index.js"],"names":["safelyParseJSON","string","defaultValue","result","count","JSON","parse","e","validURL","str","RegExp","test","slugify","char","toString","toLowerCase","replace","downloadFileFromUrl","url","length","$anchor","document","createElement","download","href","style","display","body","appendChild","click","parentNode","removeChild","formatAdFrequency","flight","ad_frequency","Array","isArray","formatNumber","Number","formatFlightsPlacesZones","flights_places_zones","map","item","place_id","zone_id","formatFlightsRegions","flights_regions","id","number","format","isNaN","isFinite","numeral","formatInputNumber","min","max","target","value","match","isEmpty","filterSelectOption","input","option","props","children","precisionRound","Math","round","getArrayFromQuery","params","split","getNumberFromString","getWepappTypes","webapps","flightWebapps","uniq","filter","wA","indexOf","type","getTypeCreative","creative","creative_type","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","cookie","getCookie","name","ca","i","c","charAt","substring","filterEmptyInObject","obj","reduce","res","key","Object","assign","formatText","toUpperCase","formItemLayout","labelCol","span","wrapperCol","messageError","msg","content","keys","index","stringify","notification","error","message","description","duration","firebaseConfig","firebase","initializeApp","apiKey","authDomain","projectId","databaseURL","functions","app","fns","httpsCallable","window","_f","callFn","fn","a","data","status_code","success","console","log","signin","phone","password","signInAdminWithPhoneAndPassword","customToken","signInAdminWithCustomToken","fetchData","plans","getPlans","transactions","getTransactions","users","opt","getUsers","postData","postPlans","postUsers","Login","onLogin","useState","check","setCheck","Form","useForm","form","useEffect","localStorage","_r","removeItem","checkUser","onFinish","values","className","xl","offset","lg","md","sm","xs","onFinishFailed","errorInfo","initialValues","Item","rules","required","validateTrigger","onChange","setFieldsValue","htmlType","size","UserContext","createContext","UserProvider","contextValue","useReducer","state","action","user","setItem","Provider","User","context","provider","Component","useContext","_user","dispatchUser","idToken","reducer","behavior","list","List","tColumns","editData","contentEdit","onOpen","onOk","popup","setPopup","_state","_dispatch","fetch","useCallback","token","resp","post","openPopup","marginBottom","onClick","centered","closable","maskClosable","confirmLoading","title","width","visible","onCancel","cancelButtonProps","disabled","columns","dataSource","rowKey","loading","onRow","row","Plans","setEditData","baseForm","setBaseForm","gutter","utility","label","valuePropName","v","resetFields","submit","dataIndex","render","checked","Users","_v","roles","trim","join","mode","routerPages","path","component","ellipsis","r","currency","moment","_seconds","menuPages","AdminLayout","isShow","setIsShow","slice","subMenu","theme","icon","LogoutOutlined","Header","overlay","trigger","UserOutlined","DownOutlined","Sider","breakpoint","onCollapse","collapse","clientWidth","defaultSelectedKeys","location","pathname","menuItemGroup","menuItemGroupKey","ItemGroup","p","menuItem","to","Content","RouterContainer","exact","Home","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.98384f72.chunk.js","sourcesContent":["/* eslint no-useless-escape: 0 */\n\nimport numeral from 'numeral';\nimport isEmpty from 'lodash/isEmpty';\nimport uniq from 'lodash/uniq';\nimport reduce from 'lodash/reduce';\n\nexport const safelyParseJSON = (string, defaultValue = '') => {\n  if (!string) {\n    return defaultValue;\n  }\n\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  let result = string;\n  try {\n    let count = 0;\n    do {\n      result = JSON.parse(result);\n      count++;\n    } while (typeof result !== typeof defaultValue && count < 3)\n  } catch (e) {\n    result = defaultValue;\n  }\n\n  return typeof result !== typeof defaultValue ? defaultValue : result;\n}\n\nexport const validURL = str => {\n  /*const pattern = new RegExp('^(https?:\\/\\/)?'+ // protocol\n    '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\.)+[a-z]{2,}|'+ // domain name\n    '((\\\\d{1,3}\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n    '(\\:\\\\d+)?(\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n    '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n    '(\\#[-a-z\\\\d_]*)?$','i'); // fragment locater */\n  const pattern = new RegExp('^(https?:\\/\\/)?'+ // protocol\n    '(([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\.)+[a-z]{2,}', 'i'); // domain name\n\n  return pattern.test(str);\n}\n\nexport const slugify = (str, char) => {\n  char = char || char === '' ? char : '-';\n\n  return str\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, char)\n    .replace(/ă|ắ|ằ|ặ|ẳ|ẵ|á|à|ả|ã|ạ|â|ấ|ầ|ẩ|ẫ|ậ/g, 'a')\n    .replace(/è|é|ẻ|ẽ|ẹ|ê|ế|ể|ề|ệ|ễ/g, 'e')\n    .replace(/u|ú|ù|ụ|ủ|ũ|ư|ứ|ừ|ự|ử|ữ/g, 'u')\n    .replace(/i|í|ì|ị|ỉ|ĩ/g, 'i')\n    .replace(/y|ý|ỳ|ỵ|ỷ|ỹ/g, 'y')\n    .replace(/o|ó|ò|ọ|ỏ|õ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ợ|ỡ/g, 'o')\n    .replace(/đ/g, 'd')\n    .replace(/đ/g, 'd')\n    .replace(/[^\\w\\-]+/g, '')\n    .replace(/\\-\\-+/g, char)\n    .replace(/' '/g, '')\n    .replace(/^-+/, '')\n    .replace(/-+$/, '');\n};\n\nexport const downloadFileFromUrl = url => {\n  if (url.length > 0) {\n    const $anchor = document.createElement('a');\n\n    $anchor.download = 'Report';\n    $anchor.href = url;\n    // $anchor.target = '_blank';\n    $anchor.style.display = 'none';\n    document.body.appendChild($anchor);\n    $anchor.click();\n    $anchor.parentNode.removeChild($anchor);\n  }\n};\n\nexport const formatAdFrequency = flight => {\n  if (!flight || !flight.ad_frequency) return '1';\n\n  let result = safelyParseJSON(flight.ad_frequency, []);\n  if (!Array.isArray(result) || result.length < 2) return '1';\n            \n  return formatNumber(Number(result[0]));\n}\n\nexport const formatFlightsPlacesZones = flight => {\n  if (!flight || !flight.flights_places_zones) return [];\n\n  let result = flight.flights_places_zones;\n  if (!Array.isArray(result) || result.length === 0) return [];\n\n  return result.map(item => `${item.place_id}_${item.zone_id}`);\n}\n\nexport const formatFlightsRegions = flight => {\n  if (!flight || !flight.flights_regions) return [];\n\n  let result = flight.flights_regions;\n  if (!Array.isArray(result) || result.length === 0) return [];\n\n  return result.map(item => `${item.id}`);\n}\n\nexport const formatNumber = (number, format = '0,0') => {\n  if (Number.isNaN(number) || !Number.isFinite(number)) return '-';\n  return numeral(number).format(format);\n}\n\nexport const formatInputNumber = (e, format = '0,0', min = null, max = null) => {\n  if (!e || !e.target) {\n    return e;\n  }\n  \n  let value = e.target.value.match(/\\d{1,4}(,\\d{1,4})*/);\n\n  if (value === null || value[0] === '') return '';\n\n  value = Number(value[0].replace(/,/g, ''));\n\n  if (!isEmpty(min) && value < min) {\n    return formatNumber(Number(min), format);\n  }\n\n  if (!isEmpty(max) && value > max) {\n    return formatNumber(Number(max), format);\n  }\n\n  return formatNumber(Number(value), format);\n}\n\nexport const filterSelectOption = (input, option) => \n  slugify(option.props.children.toLowerCase()).match(slugify(input.toLowerCase()));\n\nexport const precisionRound = number => {\n  if (Number.isNaN(number) || !Number.isFinite(number)) return 0;\n  return Math.round(number * 100) / 100;\n}\n\nexport const getArrayFromQuery = params => typeof params === 'string' ? params.split(',') : params;\n\nexport const getNumberFromString = string => Number(string.replace(/,/g, ''));\n\nexport const getWepappTypes = (flight, webapps) => {\n  const flightWebapps = safelyParseJSON(flight.webapps, []).map(item => `${item}`);\n\n  return uniq(\n    webapps\n      .filter(wA => flightWebapps.indexOf(`${wA.id}`) > -1)\n      .map(wA => `${wA.type}`)\n  );\n}\n\nexport const getTypeCreative = creative => {\n  if (creative && creative.creative_type==='video') return 'youtube';\n  return 'picture';\n}\n\nexport const setCookie = (cname, cvalue, exdays) => {\n  const d = new Date();\n  d.setTime(d.getTime() + (exdays*24*60*60*1000));\n  const expires = 'expires='+ d.toUTCString();\n  document.cookie = cname + '=' + cvalue + ';' + expires;\n}\n\nexport const getCookie = (cname) => {\n  const name = cname + '=';\n  const ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return '';\n}\n\nexport const filterEmptyInObject = obj => \n  reduce(obj,\n    (res, item, key) => {\n      if (typeof item === 'number' || !isEmpty(item)) {\n        return Object.assign({}, res, {\n          [key]: item\n        })\n      } else {\n        return res;\n      }\n    }, {}\n  );\n\nexport const formatText = (string = '') => {\n  let result = '';\n  if (!string) return result;\n  for (let i = 0; i< string.length; i++) {\n    result = result + `${(i===0 || string.charAt(i-1) === ' ') ? string.charAt(i).toUpperCase() : string.charAt(i)}`;\n  }\n  return result;\n}\n\nexport const formItemLayout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n}","import React from 'react';\n\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport * as utility from './utility';\n\nexport const messageError = msg => {\n  if (msg) {\n    let content;\n    switch (typeof msg) {\n      case 'string': \n        content = msg;\n        break;\n      case 'object':\n        content = (\n          <div>\n            {\n              Object.keys(msg).map((key, index) => (\n                <div key={index}>\n                  - {key}: {msg[key]}\n                </div>\n              ))\n            }\n          </div>\n        );\n        break;\n      default:\n        content = JSON.stringify(msg)\n        break;\n    }\n    return notification.error({\n      message: 'Something wrong happened.',\n      description: content,\n      duration: 5\n    })\n  }\n    \n  return message.error('Something wrong happened.');\n}\n\nexport const messageSuccess = msg => {\n  return message.success(msg || 'Action successfully completed.');\n}\n\nexport { utility };","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/functions';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyB79Fyr3nypZx48E9s_3kibYL3R5af8tE4',\n  authDomain: 'ibblive-7519d.firebaseapp.com',\n  databaseURL: 'https://ibblive-7519d.firebaseio.com',\n  projectId: 'ibblive-7519d',\n  storageBucket: 'ibblive-7519d.appspot.com',\n  messagingSenderId: '226util856441020',\n  appId: '1:226856441020:web:c19ae22bc7465c958facb9',\n  measurementId: 'G-PSN41QPHBC'\n};\n\nfirebase.initializeApp({\n  apiKey: firebaseConfig.apiKey,\n  authDomain: firebaseConfig.authDomain,\n  projectId: firebaseConfig.projectId,\n  databaseURL: firebaseConfig.databaseURL\n});\n\nconst functions = firebase.app().functions('asia-east2');\nconst fns = [\n  'signInAdminWithCustomToken',\n  'signInAdminWithPhoneAndPassword',\n  'getPlans', 'getUsers', 'getTransactions',\n  'postPlans', 'postUsers'\n].reduce((res, name) => Object.assign({}, res, { [name]: functions.httpsCallable(name) }), {});\n\nwindow._f = firebase;\n\nconst call = async (name, fn) => {\n  try {\n    let result = await fn;\n    return { success: true, result};\n  } catch (e) {\n    console.log(`error request ${name}, ${e}`);\n    return { success: false, error: e };\n  } \n}\n\nconst callFn = async (name, fn) => {\n  try {\n    let result = await fn;\n    if (result.data.status_code === 200) {\n      return { success: true, result: result.data };\n    }\n    return { success: false, error: result.data.error || result.data.message };\n  } catch (e) {\n    console.log(`error request ${name}, ${e}`);\n    return { success: false, error: e };\n  } \n}\n\nexport const signin = {\n  withPw: (phone, password) => callFn('signinwithpw', fns.signInAdminWithPhoneAndPassword({ phone, password })),\n  withToken: customToken => callFn('signinwithtoken', fns.signInAdminWithCustomToken({ customToken }))\n}\n\nexport const signout = {\n  request: () => call('signout', firebase.auth().signOut())\n}\n\nexport const fetchData = {\n  plans: () => callFn('getPlans', fns.getPlans()),\n  transactions: () => callFn('getTransactions', fns.getTransactions()),\n  users: opt => callFn('getUsers', fns.getUsers(opt))\n}\n\nexport const postData = {\n  plans: opt => callFn('postPlans', fns.postPlans(opt)),\n  users: opt => callFn('postUsers', fns.postUsers(opt))\n}","/* eslint no-extra-boolean-cast: 0 */\n\nimport React, { useState, useEffect } from 'react';\n\nimport Col from 'antd/lib/col';\nimport Form from 'antd/lib/form';\nimport Input from 'antd/lib/input';\nimport Button from 'antd/lib/button';\n\nimport { messageError } from '@components/commons';\nimport { signin } from '@api';\n\nconst Login = props => {\n  const { onLogin } = props;\n  const [ check, setCheck ] = useState(false);\n  const [ form ] = Form.useForm();\n\n  // check current token\n  useEffect(() => {\n    const { phone, customToken } = localStorage;\n    const checkUser = async () => {\n      if (!phone || !customToken) return setCheck(true);\n      try {\n        const _r = await signin.withToken(customToken);\n        if (!_r.success) {\n          localStorage.removeItem('phone');\n          localStorage.removeItem('customToken');\n          setCheck(true);\n          messageError(_r.error);\n        }\n        onLogin(_r.result);\n      } catch (e) {\n        console.log('checkToken', e);\n        delete localStorage.customToken;\n        setCheck(true);\n      }\n    }\n    if (!check) {\n      if (phone && customToken) checkUser();\n      else setCheck(true);\n    }\n  }, [check, onLogin]);\n\n  const onFinish = async values => {\n    try {\n      const { phone, password } = values;\n      const _r = await signin.withPw(phone, password);\n      if (!_r.success) return messageError(_r.error);\n      onLogin(_r.result);\n    } catch (e) {\n      messageError(e);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  if (!check) return <div>loading</div>;\n\n  return (\n    <div className='login-container'>\n      <div className='container'>\n        <div className='ant-row'>\n          <Col \n            xl={{ span: 10, offset: 7 }}\n            lg={{ span: 12, offset: 6 }}\n            md={{ span: 14, offset: 5 }}\n            sm={{ span: 18, offset: 3 }}\n            xs={{ span: 22, offset: 1 }}\n            className='form-login'\n          >\n            <div className='dp-card-body'>\n              <h3 className=\"login-title\">Sign in</h3>\n              <Form \n                form={form}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                initialValues={{ phone: '+84' }}\n              >\n                <Form.Item\n                  name='phone'\n                  rules={[{ required: true, message: 'Phone required' }]}\n                  validateTrigger='onSubmit'\n                >\n                  <Input\n                    onChange={function(e) { //for this\n                      if (!e || !e.target) {\n                        return e;\n                      }\n                      let { value } = e.target;\n                      value = value.replace(/[^\\d]/g, '');\n\n                      form.setFieldsValue({ phone: value ? `+${value}` : '' });\n                    }}\n                  />\n                </Form.Item>\n                <Form.Item\n                  name='password'\n                  rules={[{ required: true, message: 'Password required' }]}\n                  validateTrigger='onSubmit'\n                >\n                  <Input type='password' />\n                </Form.Item>\n                <div className=''>\n                  <Button htmlType='submit' size='large' className=\"signin\">SIGN IN</Button>\n                </div>\n              </Form>\n            </div>\n          </Col>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;\n","import React, { useReducer, createContext } from 'react';\r\n\r\nconst UserContext = createContext();\r\nconst UserProvider = ({ children }) => {\r\n  const contextValue = useReducer((state, action) => {\r\n    switch (action.type) {\r\n      case 'LOGIN':\r\n        (action.user.phone && localStorage.setItem('phone', action.user.phone));\r\n        (action.user.customToken && localStorage.setItem('customToken', action.user.customToken));\r\n        return action.user;\r\n      case 'LOGOUT':\r\n        localStorage.removeItem('phone');\r\n        localStorage.removeItem('customToken');\r\n        return {};\r\n      default: return state;\r\n    }\r\n  }, {});\r\n  return (\r\n    <UserContext.Provider value={contextValue}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\nexport const User = {\r\n  context: UserContext,\r\n  provider: Component => props => <UserProvider><Component {...props} /></UserProvider>\r\n}","import React, { useContext } from 'react';\nimport Login from './login';\nimport { User } from '@pkg/reducers';\n\nconst CurrentUser = props => {\n  const { children } = props;\n  const [ _user, dispatchUser ] = useContext(User.context);\n\n  const onLogin = user => {\n    dispatchUser({ user, type: 'LOGIN' });\n  }\n\n  return _user.idToken ? children : <Login onLogin={onLogin} />;\n}\n\nexport default User.provider(CurrentUser);\n","import React, { useState, useEffect, useReducer, useCallback, useContext } from 'react';\nimport { fetchData, postData } from '@api';\n\nimport { User } from '@pkg/reducers';\nimport Table from 'antd/lib/table';\nimport Button from 'antd/lib/button';\nimport Modal from 'antd/lib/modal';\n\nimport { messageError } from './';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_FETCHING':\n      return { ...state, behavior: 'fetching' };\n    case 'FETCH_SUCCESS':\n      return { ...state, list: action.list, behavior: 'stall' };\n    case 'FETCH_ERROR':\n      messageError(action.error);\n      return { ...state, list: [], behavior: 'stall' };\n    case 'POSTING':\n      return { ...state, behavior: 'posting' };\n    case 'POST_SUCCESS':\n      return { ...state, behavior: 'post_success' };\n    case 'POST_ERROR':\n      messageError(action.error);\n    case 'STALL':\n      return { ...state, behavior: 'stall' };\n    default: return state;\n  }\n}\n\nconst List = props => {\n  const { fn, tColumns, editData, \n    contentEdit, onOpen, onOk\n  } = props;\n  const [ popup, setPopup ] = useState(false);\n  const [ _state, _dispatch ] = useReducer(reducer, { list: [], behavior: 'init' });\n  const [ user ] = useContext(User.context);\n\n  const fetch = useCallback(async () => {\n    _dispatch({ type: 'FETCH_FETCHING' });\n    try {\n      const resp = await fetchData[fn]({ token: user.idToken });\n      const { success, result, error } = resp;\n      if (!success) _dispatch({ type: 'FETCH_ERROR', error: error })\n      else _dispatch({ type: 'FETCH_SUCCESS', list: result.data })\n    } catch (e) {\n      _dispatch({ type: 'FETCH_ERROR', error: e });\n    }\n  }, [user.idToken, fn]);\n\n  const post = useCallback(async () => {\n    _dispatch({ type: 'POSTING' });\n    try {\n      const resp = await postData[fn]({ token: user.idToken, ...editData });\n      const { success, result, error } = resp;\n      if (!success) _dispatch({ type: 'POST_ERROR', error: error })\n      else _dispatch({ type: 'POST_SUCCESS', item: result.data });\n    } catch (e) {\n      _dispatch({ type: 'POST_ERROR', error: e });\n    }\n  }, [user.idToken, fn, editData]);\n\n  useEffect(() => {\n    switch (_state.behavior) {\n      case 'fetching':\n      case 'stall':\n        return;\n      case 'post_success':\n        setPopup(false)\n      case 'init': \n        fetch();\n        return;\n      default: return () => _dispatch({ type: 'STALL' });\n    }\n  }, [_state.behavior, fetch]);\n\n  useEffect(() => {\n    if (!editData) return;\n    post();\n  }, [editData, post]);\n\n  const openPopup = (values, index) => {\n    onOpen(values, index);\n    setPopup(true);\n  }\n\n  return ([\n    contentEdit && (\n      <Button\n        key='button'\n        style={{ marginBottom: 25 }}\n        onClick={() => openPopup({}, -1)}\n      >\n        Create\n      </Button>\n    ),\n    contentEdit && (\n      <Modal\n        centered\n        closable={false}\n        maskClosable={false}\n        confirmLoading={_state.behavior === 'posting'}\n        title='Update'\n        key='modal'\n        width='80%' \n        visible={popup}\n        onOk={onOk}\n        onCancel={() => setPopup(false)}\n        cancelButtonProps={{ disabled: _state.behavior === 'posting' }}\n      >\n        {contentEdit}\n      </Modal>\n    ),\n    <Table\n      key='table'\n      columns={tColumns}\n      dataSource={_state.list}\n      rowKey='id'\n      loading={_state.behavior === 'fetching'}\n      onRow={row => ({\n        onClick: contentEdit ? () => openPopup(row) : () => {},\n      })}\n    >\n    </Table>\n  ]);\n}\n\nexport default List;","import React, { useState } from 'react';\nimport List from '@components/commons/list';\n\nimport Switch from 'antd/lib/switch';\nimport Form from 'antd/lib/form';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Input from 'antd/lib/input';\n\nimport { utility } from '@components/commons';\n\nconst Plans = () => {\n  const [ editData, setEditData ] = useState();\n  const [ baseForm, setBaseForm ] = useState({});\n  const [ form ] = Form.useForm();\n  const onFinish = values => {\n    setEditData({ ...baseForm, ...values });\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return ( \n    <List\n      contentEdit={\n        <Form \n          form={form}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Row gutter={16}>\n            <Col xs={22} sm={22} md={12}>\n              <Form.Item\n                className='dp-form'\n                {...utility.formItemLayout}\n                name='name'\n                label='Name'\n                rules={[{ required: true, message: 'Required' }]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                className='dp-form'\n                {...utility.formItemLayout}\n                name='diamond'\n                label='Diamond'\n                rules={[{ required: true, message: 'Required' }]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                className='dp-form'\n                {...utility.formItemLayout}\n                name='price'\n                label='Price'\n                rules={[{ required: true, message: 'Required' }]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col xs={22} sm={22} md={12}>\n              <Form.Item\n                className='dp-form'\n                {...utility.formItemLayout}\n                name='description'\n                label='Description'\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                className='dp-form'\n                {...utility.formItemLayout}\n                name='enabled'\n                label='Enabled'\n                valuePropName='checked'\n              >\n                <Switch />\n              </Form.Item>\n            </Col>\n          </Row>\n        </Form> \n      }\n      onOpen={v => {\n        setBaseForm(v);\n        form.resetFields();\n        form.setFieldsValue(v);\n      }}\n      onOk={() => form.submit()}\n      editData={editData}\n      fn='plans'\n      tColumns={[\n        {\n          title: 'Name',\n          dataIndex: 'name',\n          key: 'name',\n        },\n        {\n          title: 'Description',\n          dataIndex: 'description',\n          key: 'description',\n        },\n        {\n          title: 'Diamond',\n          dataIndex: 'diamond',\n          key: 'diamond',\n        },\n        {\n          title: 'Price',\n          dataIndex: 'price',\n          key: 'price',\n        },\n        {\n          title: '',\n          dataIndex: 'enabled',\n          key: 'enabled',\n          render: v => <Switch checked={v} />\n        },\n      ]}\n    />\n  );\n}\n\nexport default Plans;","import React, { useState } from 'react';\r\nimport List from '@components/commons/list';\r\nimport Select from 'antd/lib/select';\r\n\r\nimport Form from 'antd/lib/form';\r\nimport Row from 'antd/lib/row';\r\nimport Col from 'antd/lib/col';\r\nimport Input from 'antd/lib/input';\r\n\r\nimport { utility } from '@components/commons';\r\n\r\nconst Users = () => {\r\n  const [ editData, setEditData ] = useState();\r\n  const [ baseForm, setBaseForm ] = useState({});\r\n  const [ form ] = Form.useForm();\r\n  const onFinish = values => {\r\n    const _v = {\r\n      roles: values.roles.split(',').map(i => i.trim())\r\n    }\r\n    setEditData({ ...baseForm, ..._v });\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <List\r\n      contentEdit={\r\n        <Form \r\n          form={form}\r\n          onFinish={onFinish}\r\n          onFinishFailed={onFinishFailed}\r\n        >\r\n          <Row gutter={16}>\r\n            <Col xs={22} sm={22} md={22}>\r\n              <Form.Item\r\n                className='dp-form'\r\n                {...utility.formItemLayout}\r\n                name='id'\r\n                label='Phone'\r\n              >\r\n                <Input disabled />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col xs={22} sm={22} md={22}>\r\n              <Form.Item\r\n                className='dp-form'\r\n                {...utility.formItemLayout}\r\n                name='roles'\r\n                label='Roles'\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Form> \r\n      }\r\n      onOpen={v => {\r\n        setBaseForm(v);\r\n        form.resetFields();\r\n        form.setFieldsValue({ ...v, roles: v.roles.join(',') });\r\n      }}\r\n      onOk={() => form.submit()}\r\n      editData={editData}\r\n      fn='users'\r\n      tColumns={[\r\n        {\r\n          title: 'Phone',\r\n          dataIndex: 'id',\r\n          key: 'id',\r\n        },\r\n        {\r\n          title: 'Roles',\r\n          dataIndex: 'roles',\r\n          key: 'roles',\r\n          render: v => <Select mode=\"multiple\" style={{ width: '100%' }} value={v.filter(i => typeof i === 'string' && i.length > 0)}></Select>\r\n        }\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Users;","import Plans from './plans';\nimport Users from './users';\nimport Transactions from './transactions';\n\nexport const routerPages = [\n  { path: '/plans', label: 'Plans', component: Plans, roles: 'plans' },\n  { path: '/users', label: 'Users', component: Users, roles: 'users' },\n  { path: '/transactions', label: 'Transactions', component: Transactions, roles: 'transactions' }\n];\n\nexport const menuPages = [\n  {\n    label: 'manage system',\n    children: routerPages\n  }\n];","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport List from '@components/commons/list';\r\n\r\nconst Transactions = () => {\r\n  return ( \r\n    <List\r\n      fn='transactions'\r\n      tColumns={[\r\n        {\r\n          title: 'ID',\r\n          dataIndex: 'id',\r\n          key: 'id',\r\n          ellipsis: true\r\n        },\r\n        {\r\n          title: 'Type',\r\n          dataIndex: 'type',\r\n          key: 'type'\r\n        },\r\n        {\r\n          title: 'Amount',\r\n          dataIndex: 'amount',\r\n          key: 'amount',\r\n          render: (v, r) => `${v} ${r.currency}`\r\n        },\r\n        {\r\n          title: 'Date',\r\n          dataIndex: 'createdAt',\r\n          key: 'createdAt',\r\n          render: v => moment(v._seconds*1000).format('YYYY-MM-DD hh:mm:ss')\r\n        },\r\n        {\r\n          title: 'Plan',\r\n          dataIndex: 'plan',\r\n          key: 'plan',\r\n          ellipsis: true,\r\n          render: v => v ? v.id : ''\r\n        },\r\n        {\r\n          title: 'User',\r\n          dataIndex: 'user',\r\n          key: 'user',\r\n          ellipsis: true,\r\n          render: v => v ? v.id : ''\r\n        },\r\n        {\r\n          title: 'Status',\r\n          dataIndex: 'status',\r\n          key: 'status'\r\n        }\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Transactions;","/* eslint no-extra-boolean-cast: 0 */\n\nimport React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { DownOutlined, LogoutOutlined, UserOutlined } from '@ant-design/icons';\n\nimport Layout from 'antd/lib/layout';\nimport Menu from 'antd/lib/menu';\nimport Dropdown from 'antd/lib/dropdown';\nimport Button from 'antd/lib/button';\nimport Switch from 'antd/lib/switch';\n\nimport { menuPages } from '@components/pages'; \nimport { User } from '@pkg/reducers';\n\nconst AdminLayout = props => {\n  const { children } = props;\n  const [ isShow, setIsShow ] = useState(true);\n  const [ user, dispatchUser ] = useContext(User.context);\n  const roles = Array.isArray(user.roles) ? user.roles.slice(0) : [];\n\n  const onLogout = () => dispatchUser({type: 'LOGOUT'});\n\n  const subMenu = (\n    <Menu \n      className='custom-header-menu'\n      theme='dark'\n    >\n      <Menu.Item>\n        <Button icon={<LogoutOutlined />} size='small' onClick={onLogout} className='button-noshadow'>Logout</Button>\n      </Menu.Item>\n    </Menu>\n  )\n\n  return (\n    <Layout>\n      <Layout.Header className='custom-header'>\n        <div className='logo'>\n          <div className='logo-wrapper'>\n            <div className='logo-content'>\n              <div className='logo-img' />\n              <div className='logo-text'>\n                <span>ibblive</span>\n              </div>\n              <div className='logo-switch'>\n                <Switch checked={isShow} size='small' onChange={value => setIsShow(value)} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <Dropdown overlay={subMenu} className='custom-submenu' trigger={['click']}>\n          <div>\n            <UserOutlined />\n            <span>{user ? user.phone : ''}</span>\n            <DownOutlined />\n          </div>\n        </Dropdown>\n      </Layout.Header>\n      <Layout>\n        <Layout.Sider\n          breakpoint='xl'\n          width={220}\n          trigger={null}\n          onCollapse = {(collapse, type)=>{\n            if (document.body.clientWidth <= 1200 && isShow) setIsShow(false)\n            else if (document.body.clientWidth > 1200 && !isShow) setIsShow(true)\n          }}\n          className={`custom-siderbar ${!isShow?'hide-sidebar':''}`}\n        >\n          <Menu\n            theme='dark'\n            mode='inline'\n            defaultSelectedKeys={window.location.pathname}\n            // selectedKeys={[current]}\n            // onClick={this.handleMenuClick}\n          >\n            {menuPages.map((menuItemGroup, menuItemGroupKey) => (\n              <Menu.ItemGroup\n                className='custom-header-group'\n                key={menuItemGroupKey}\n                title={menuItemGroup.label}\n              >\n                {menuItemGroup.children.filter(p => roles.indexOf(p.roles) > -1).map(menuItem => \n                  <Menu.Item\n                    key={menuItem.path}\n                  >\n                    <Link to={menuItem.path} className={`sideMenuItem ${menuItem.className}`}>\n                      {menuItem.label}\n                    </Link>\n                  </Menu.Item>\n                )}\n              </Menu.ItemGroup>\n            ))}\n          </Menu>\n        </Layout.Sider>\n        <Layout.Content className='custom-content'>\n          {children}\n        </Layout.Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default AdminLayout;\n","import React, { useContext } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\n\nimport Layout from '@components/commons/layout';\nimport { routerPages } from '@components/pages';\nimport { User } from '@pkg/reducers';\n\nconst RouterContainer = () => {\n  const [ _user ] = useContext(User.context);\n  const roles = Array.isArray(_user.roles) ? _user.roles.slice(0) : [];\n  return (\n    <Router>\n      <Layout>\n        <Switch>\n          <Route exact path='/'>\n            <Home />\n          </Route>\n          {routerPages.filter(p => roles.indexOf(p.roles) > -1).map(p => {\n            return (\n              <Route path={p.path} key={p.path}>\n                <p.component />\n              </Route>\n            )\n          })}\n        </Switch>\n      </Layout>\n    </Router>\n  );\n}\n\nexport default RouterContainer;\n\n// You can think of these components as 'pages'\n// in your app.\n\nfunction Home() {\n  return (\n    <div>\n      <h2>Home</h2>\n    </div>\n  );\n}","import React from 'react';\nimport CurrentUser from '@components/auth/currentUser';\nimport RouterContainer from '@pkg/router';\n\nexport default function App() {\n  return (\n    <CurrentUser>\n      <RouterContainer />\n    </CurrentUser>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './statics/main.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}